---
title: 计算机网络-数据链路层
date: 2018-04-12 15:55:15
tags:
---

每天都感觉时间很紧迫，进步不大，浪费的时间太多了，能做的就是每天进步一点点 --stackfing

数据链路层使用的信道主要有这两种类型：
* 点对点信道：这种信道的通信方式是一对一的通信方式--ppp协议
* 广播信道：这种信道使用一对多的广播通信方式，对于这种方式需要遵循专用的共享信道协议来协调主机数据的发送

## 数据链路和帧

链路：链路是从一个将结点到相邻结点的一段物理路线，二中间没有任何其他的交换结点。

数据链路：将硬件和软件加到链路上，就构成了数据链路。

帧：数据链路层的协议数据单元。

数据链路层把网络层交下来的数据构成帧发送的链路上，也会把接收到的帧中的数据取出上交给网络层。

## 三个基本问题

数据链路层的协议有很多，但是各种协议都有共同的问题：

* 分装成帧
* 透明传输
* 差错检测

1、分装成帧，是在数据的前面和后面都加上首部和尾部。这样就可以把数据进行分组发送，在接收端收到数据报之后就可以去掉首部和尾部。首部和尾部的作用就是用来将数据帧进行定界。

在数据前面加的首部为 SOH（并不是'S','O','H' 这三个字符)的二进制代码（00000001），尾部称为 EOT（00000100）

数据链路层的协议都规定了所能传送帧的数据部分长度上限--MTU（最大传输单元）。一般 MTU 为 1500 字节

2、透明传输，假设网络层交下来的是 ASCII 码组成的数据，我们直接添加 SOH 和 EOT 就可以完成定界。

在传输二进制文件的时候文件中会出现 SOH 的二进制代码，这就出现了定界的错误。解决方案是在遇到 SOH 和 EOT 前插入转义字符。这样有效避免了定界的错误。

3、差错检测，在比特流传输的过程中可能会出现 0 变成 1，1 变成 0 的错误（称为：比特差错）。

数据链路层广泛使用了循环冗余检验 CRC 的检错技术。

## 点对点协议 PPP

PPP 协议是目前使用最广泛的数据链路层协议。

互联网用户需要连接某个 ISP 才能接入到互联网，PPP 层就是计算机和 ISP 进行通信时所用的数据链路层通信协议。

PPP 协议的要求：简单、封装成帧、透明性、多种网络层协议、多种类型链路、差错控制、检测连接状态、最大的传输单元、网络层地址协商、数据压缩协商

不需要的特点：纠错、序号、多点线路、半双工或单双工

PPP协议的组成
* 一个将IP数据报封装到串行链路的方法。
* 一个用来建立、配置和测试数据链路连接的链路控制协议LCP
* 一套网络控制协议NCP

## 使用广播信道的数据链路层

局域网的主要特点是：网络为一个单位所有，且地理范围和站点数目均有限。

局域网可以按照网络拓扑进行分类：星形网、环形网、总线网

以太网有两个标准，一个是 DIX Ethernet V2，另外一个是 IEEE 802.3
